<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåü –ü–∞–∑–∏—Ç–µ–ª–∏—Ç–µ –Ω–∞ –ß–∏—Å–ª–∞—Ç–∞ üåü</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Comfortaa:wght@700&display=swap');
        body { font-family: 'Comfortaa', cursive; background: #fff5f5; margin: 0; padding: 10px; color: #333; }
        .main-container { max-width: 950px; background: white; margin: auto; padding: 30px; border-radius: 60px; border: 12px solid #ffcc00; box-shadow: 0 20px 0 #ff9900; }
        .title-box { text-align: center; background: linear-gradient(45deg, #ff0066, #ffcc00); color: white; padding: 30px; border-radius: 40px; margin-bottom: 30px; }
        .name-section { text-align: center; margin-bottom: 30px; background: #fffde7; padding: 25px; border-radius: 30px; border: 4px dashed #ff0066; }
        .name-section input { padding: 15px; border-radius: 20px; border: 4px solid #ff0066; font-family: 'Comfortaa'; font-size: 1.5rem; width: 80%; text-align: center; outline: none; }
        .card { padding: 25px; border-radius: 45px; margin-bottom: 35px; border: 8px solid; box-shadow: 0 12px 0 rgba(0,0,0,0.05); }
        .card-1 { background: #e3f2fd; border-color: #2196f3; }
        .card-2 { background: #fce4ec; border-color: #f06292; }
        .card-3 { background: #f3e5f5; border-color: #9c27b0; }
        .card-4 { background: #e0f7fa; border-color: #00bcd4; }
        .card-5 { background: #e8f5e9; border-color: #4caf50; }
        .card-6 { background: #fffde7; border-color: #fdd835; }
        h2 { font-size: 1.8rem; text-align: center; margin-top: 0; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .task-unit { background: rgba(255,255,255,0.85); padding: 15px; border-radius: 30px; text-align: center; border: 2px solid #eee; }
        .math-text { font-size: 2rem; display: block; margin-bottom: 10px; font-weight: bold; }
        .empty-box { display: inline-block; width: 50px; height: 50px; border: 3px solid #ff9900; border-radius: 10px; background: white; vertical-align: middle; line-height: 50px; font-size: 1.5rem; color: #ff0066; }
        .opts { display: flex; justify-content: center; gap: 8px; flex-wrap: wrap; }
        .btn-opt { padding: 10px 15px; font-size: 1.2rem; border-radius: 15px; border: 3px solid #ced4da; background: white; cursor: pointer; font-family: 'Comfortaa'; transition: 0.2s; }
        .btn-correct { background: #4caf50 !important; color: white !important; border-color: #2e7d32 !important; }
        .btn-wrong { background: #f44336 !important; color: white !important; border-color: #c62828 !important; }
        .locked { pointer-events: none; opacity: 0.8; }
        .castle-img { width: 100%; max-width: 400px; border-radius: 30px; border: 8px solid #4caf50; margin: 20px auto; display: block; }
        .finish-button { background: linear-gradient(#ff0066, #c2004d); color: white; border: none; padding: 25px; width: 100%; font-size: 2.5rem; border-radius: 50px; cursor: pointer; font-family: 'Comfortaa'; box-shadow: 0 10px 0 #8e0036; margin-top: 30px; }
        #overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); flex-direction: column; align-items: center; justify-content: center; z-index: 9999; text-align: center; }
        .success-card { background: white; padding: 40px; border-radius: 50px; border: 10px solid #ffcc00; max-width: 600px; }
    </style>
</head>
<body>

<div class="main-container">
    <div class="title-box"><h1>üåü –ü–ê–ó–ò–¢–ï–õ–ò–¢–ï –ù–ê –ß–ò–°–õ–ê–¢–ê üåü</h1></div>
    <div class="name-section"><input type="text" id="p_name" placeholder="üë¶ –ò–º–µ –Ω–∞ –æ—Ç–±–æ—Ä–∞ üëß"></div>

    <div class="card card-1">
        <h2>–ó–∞–¥. 1: üöÄ –†–∞–∫–µ—Ç–∏ –∫—ä–º –°–ª—ä–Ω—Ü–µ—Ç–æ</h2>
        <div class="grid">
            <div class="task-unit"><span class="math-text">12 + 4</span><div class="opts"><button class="btn-opt" onclick="chk(this, 16)">16</button><button class="btn-opt" onclick="chk(this, 16)">15</button><button class="btn-opt" onclick="chk(this, 16)">17</button></div></div>
            <div class="task-unit"><span class="math-text">5 + 5</span><div class="opts"><button class="btn-opt" onclick="chk(this, 10)">9</button><button class="btn-opt" onclick="chk(this, 10)">11</button><button class="btn-opt" onclick="chk(this, 10)">10</button></div></div>
            <div class="task-unit"><span class="math-text">12 + 5</span><div class="opts"><button class="btn-opt" onclick="chk(this, 17)">16</button><button class="btn-opt" onclick="chk(this, 17)">18</button><button class="btn-opt" onclick="chk(this, 17)">17</button></div></div>
            <div class="task-unit"><span class="math-text">6 + 3</span><div class="opts"><button class="btn-opt" onclick="chk(this, 9)">9</button><button class="btn-opt" onclick="chk(this, 9)">8</button><button class="btn-opt" onclick="chk(this, 9)">10</button></div></div>
            <div class="task-unit"><span class="math-text">10 + 4</span><div class="opts"><button class="btn-opt" onclick="chk(this, 14)">13</button><button class="btn-opt" onclick="chk(this, 14)">15</button><button class="btn-opt" onclick="chk(this, 14)">14</button></div></div>
            <div class="task-unit"><span class="math-text">9 + 1</span><div class="opts"><button class="btn-opt" onclick="chk(this, 10)">10</button><button class="btn-opt" onclick="chk(this, 10)">8</button><button class="btn-opt" onclick="chk(this, 10)">12</button></div></div>
        </div>
    </div>

    <div class="card card-2">
        <h2>–ó–∞–¥. 2: üïµÔ∏è –ú–∞–≥—å–æ—Å–Ω–∏–∫—ä—Ç ‚Äû–ú–∏–Ω—É—Å‚Äú</h2>
        <div class="grid">
            <div class="task-unit"><span class="math-text">10 - 8</span><div class="opts"><button class="btn-opt" onclick="chk(this, 2)">1</button><button class="btn-opt" onclick="chk(this, 2)">3</button><button class="btn-opt" onclick="chk(this, 2)">2</button></div></div>
            <div class="task-unit"><span class="math-text">13 - 1</span><div class="opts"><button class="btn-opt" onclick="chk(this, 12)">12</button><button class="btn-opt" onclick="chk(this, 12)">11</button><button class="btn-opt" onclick="chk(this, 12)">14</button></div></div>
            <div class="task-unit"><span class="math-text">17 - 5</span><div class="opts"><button class="btn-opt" onclick="chk(this, 12)">10</button><button class="btn-opt" onclick="chk(this, 12)">12</button><button class="btn-opt" onclick="chk(this, 12)">15</button></div></div>
            <div class="task-unit"><span class="math-text">8 - 4</span><div class="opts"><button class="btn-opt" onclick="chk(this, 4)">3</button><button class="btn-opt" onclick="chk(this, 4)">5</button><button class="btn-opt" onclick="chk(this, 4)">4</button></div></div>
            <div class="task-unit"><span class="math-text">9 - 1</span><div class="opts"><button class="btn-opt" onclick="chk(this, 8)">8</button><button class="btn-opt" onclick="chk(this, 8)">7</button><button class="btn-opt" onclick="chk(this, 8)">9</button></div></div>
            <div class="task-unit"><span class="math-text">18 - 7</span><div class="opts"><button class="btn-opt" onclick="chk(this, 11)">10</button><button class="btn-opt" onclick="chk(this, 11)">12</button><button class="btn-opt" onclick="chk(this, 11)">11</button></div></div>
        </div>
    </div>

    <div class="card card-3">
        <h2>–ó–∞–¥. 3: üê∏ –ñ–∞–±–µ—à–∫–∏ —Å–∫–æ–∫ –ø—Ä–µ–∑ –¥–µ—Å–µ—Ç</h2>
        <div class="grid">
            <div class="task-unit"><span class="math-text">9 + 5</span><div class="opts"><button class="btn-opt" onclick="chk(this, 14)">14</button><button class="btn-opt" onclick="chk(this, 14)">13</button><button class="btn-opt" onclick="chk(this, 14)">15</button></div></div>
            <div class="task-unit"><span class="math-text">8 + 3</span><div class="opts"><button class="btn-opt" onclick="chk(this, 11)">10</button><button class="btn-opt" onclick="chk(this, 11)">11</button><button class="btn-opt" onclick="chk(this, 11)">12</button></div></div>
            <div class="task-unit"><span class="math-text">7 + 7</span><div class="opts"><button class="btn-opt" onclick="chk(this, 14)">13</button><button class="btn-opt" onclick="chk(this, 14)">15</button><button class="btn-opt" onclick="chk(this, 14)">14</button></div></div>
            <div class="task-unit"><span class="math-text">9 + 6</span><div class="opts"><button class="btn-opt" onclick="chk(this, 15)">15</button><button class="btn-opt" onclick="chk(this, 15)">14</button><button class="btn-opt" onclick="chk(this, 15)">16</button></div></div>
        </div>
    </div>

    <div class="card card-2" style="background: #fff0f6; border-color: #f06595;">
        <h2>–ó–∞–¥. 4: üóùÔ∏è –ö–ª—é—á—ä—Ç –∫—ä–º —Ç–∞–π–Ω–∞—Ç–∞ –≤—Ä–∞—Ç–∞</h2>
        <div class="grid">
            <div class="task-unit"><span class="math-text">12 - 3</span><div class="opts"><button class="btn-opt" onclick="chk(this, 9)">8</button><button class="btn-opt" onclick="chk(this, 9)">10</button><button class="btn-opt" onclick="chk(this, 9)">9</button></div></div>
            <div class="task-unit"><span class="math-text">14 - 5</span><div class="opts"><button class="btn-opt" onclick="chk(this, 9)">9</button><button class="btn-opt" onclick="chk(this, 9)">8</button><button class="btn-opt" onclick="chk(this, 9)">10</button></div></div>
            <div class="task-unit"><span class="math-text">18 - 9</span><div class="opts"><button class="btn-opt" onclick="chk(this, 9)">8</button><button class="btn-opt" onclick="chk(this, 9)">9</button><button class="btn-opt" onclick="chk(this, 9)">10</button></div></div>
            <div class="task-unit"><span class="math-text">16 - 8</span><div class="opts"><button class="btn-opt" onclick="chk(this, 8)">7</button><button class="btn-opt" onclick="chk(this, 8)">9</button><button class="btn-opt" onclick="chk(this, 8)">8</button></div></div>
        </div>
    </div>

    <div class="card card-4">
        <h2>–ó–∞–¥. 5: üêä –ì–ª–∞–¥–Ω–∏—è—Ç –∫—Ä–æ–∫–æ–¥–∏–ª</h2>
        <div class="grid">
            <div class="task-unit"><span class="math-text">12 <div class="empty-box" id="box-s1"></div> 18</span><div class="opts"><button class="btn-opt" onclick="chkS(this, '<', 's1')">&lt;</button><button class="btn-opt" onclick="chkS(this, '<', 's1')">&gt;</button><button class="btn-opt" onclick="chkS(this, '<', 's1')">=</button></div></div>
            <div class="task-unit"><span class="math-text">15 <div class="empty-box" id="box-s2"></div> 15</span><div class="opts"><button class="btn-opt" onclick="chkS(this, '=', 's2')">&gt;</button><button class="btn-opt" onclick="chkS(this, '=', 's2')">&lt;</button><button class="btn-opt" onclick="chkS(this, '=', 's2')">=</button></div></div>
            <div class="task-unit"><span class="math-text">13 <div class="empty-box" id="box-s3"></div> 10</span><div class="opts"><button class="btn-opt" onclick="chkS(this, '>', 's3')">&lt;</button><button class="btn-opt" onclick="chkS(this, '>', 's3')">&gt;</button><button class="btn-opt" onclick="chkS(this, '>', 's3')">=</button></div></div>
            <div class="task-unit"><span class="math-text">9 <div class="empty-box" id="box-s4"></div> 11</span><div class="opts"><button class="btn-opt" onclick="chkS(this, '<', 's4')">&lt;</button><button class="btn-opt" onclick="chkS(this, '<', 's4')">&gt;</button><button class="btn-opt" onclick="chkS(this, '<', 's4')">=</button></div></div>
        </div>
    </div>

    <div class="card card-6">
        <h2>–ó–∞–¥. 6: ‚öîÔ∏è –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–≤—É–±–æ–π</h2>
        <div class="grid">
            <div class="task-unit"><span class="math-text">12 + 5 <div class="empty-box" id="box-d1"></div> 18</span><div class="opts"><button class="btn-opt" onclick="chkS(this, '<', 'd1')">=</button><button class="btn-opt" onclick="chkS(this, '<', 'd1')">&gt;</button><button class="btn-opt" onclick="chkS(this, '<', 'd1')">&lt;</button></div></div>
            <div class="task-unit"><span class="math-text">11 - 2 <div class="empty-box" id="box-d2"></div> 9</span><div class="opts"><button class="btn-opt" onclick="chkS(this, '=', 'd2')">=</button><button class="btn-opt" onclick="chkS(this, '=', 'd2')">&lt;</button><button class="btn-opt" onclick="chkS(this, '=', 'd2')">&gt;</button></div></div>
        </div>
    </div>

    <div class="card card-5">
        <h2>–ó–∞–¥. 7: üè∞ –¢–∞–π–Ω–∏—Ç–µ –Ω–∞ –ì–µ–æ–º–µ—Ç—Ä–∏—á–Ω–∏—è –∑–∞–º—ä–∫</h2>
        <img src="https://images.unsplash.com/photo-1590073242678-70ee3fc28e8e?q=80&w=400" alt="–ó–∞–º—ä–∫" class="castle-img">
        <div class="grid">
            <div class="task-unit"><span>–ö—Ä—ä–≥–æ–≤–µ?</span><div class="opts"><button class="btn-opt" onclick="chk(this, 4)">4</button><button class="btn-opt" onclick="chk(this, 4)">3</button><button class="btn-opt" onclick="chk(this, 4)">5</button></div></div>
            <div class="task-unit"><span>–¢—Ä–∏—ä–≥—ä–ª–Ω–∏—Ü–∏?</span><div class="opts"><button class="btn-opt" onclick="chk(this, 3)">2</button><button class="btn-opt" onclick="chk(this, 3)">4</button><button class="btn-opt" onclick="chk(this, 3)">3</button></div></div>
        </div>
    </div>

    <button class="finish-button" onclick="finish()">–ü–†–ï–î–ê–ô –ú–ò–°–ò–Ø–¢–ê! üöÄ</button>
</div>

<div id="overlay">
    <div class="success-card">
        <h1 style="font-size: 3rem; color: #ff0066;">–ë–†–ê–í–û! üåü</h1>
        <p id="res-text" style="font-size: 1.8rem;"></p>
        <button onclick="location.reload()" style="padding: 15px 30px; border-radius: 20px; border: none; background: #4caf50; color: white; cursor: pointer;">–ù–û–í–ê –ò–ì–†–ê</button>
    </div>
</div>

<script>
    let score = 0;
    let answered = 0;

    function chk(btn, correct) {
        let parent = btn.parentElement;
        if (parent.classList.contains('locked')) return;
        answered++;
        if (btn.innerText == correct) { score++; btn.classList.add('btn-correct'); }
        else { btn.classList.add('btn-wrong'); }
        parent.classList.add('locked');
    }

    function chkS(btn, correct, boxId) {
        let parent = btn.parentElement;
        if (parent.classList.contains('locked')) return;
        answered++;
        document.getElementById('box-' + boxId).innerText = btn.innerText;
        if (btn.innerText == correct) { score++; btn.classList.add('btn-correct'); }
        else { btn.classList.add('btn-wrong'); }
        parent.classList.add('locked');
    }

    function finish() {
        let name = document.getElementById('p_name').value || "–ú–∞–ª–∫–∏ –≥–µ—Ä–æ–∏";
        if (answered < 1) { alert("–ü—ä—Ä–≤–æ —Ä–µ—à–∏ –∑–∞–¥–∞—á–∏—Ç–µ!"); return; }

        fetch("https://sheetdb.io/api/v1/si1t90uvg95jc", {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ data: [{ 'name': name, 'score': score + " –æ—Ç " + answered }] })
        });

        document.getElementById('overlay').style.display = 'flex';
        document.getElementById('res-text').innerText = name + ", –≤–∏–µ —Å—ä–±—Ä–∞—Ö—Ç–µ " + score + " —Ç–æ—á–∫–∏ –æ—Ç " + answered + "!";
        confetti({ particleCount: 400, spread: 100, origin: { y: 0.6 } });
    }
</script>
</body>
</html>
